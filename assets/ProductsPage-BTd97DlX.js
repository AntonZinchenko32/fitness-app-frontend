import{r as c,j as e,ad as g,m as l,ae as E,af as v,f as w,h as x,ag as h,ah as b,ai as I,aj as L,ak as S,al as R,am as D,an as y,ao as N,ap as F,aq as H,ar as B,as as W,at as C,au as P,av as d,aw as u,ax as p,c as m,ay as M,az as O,u as k}from"./index-N6ACb7Ih.js";import{u as f}from"./useAuth-wWkdJ3Lm.js";import{I as A}from"./InputPrimary-OMXEXxcb.js";const j=({children:s,items:o})=>{const[r,a]=c.useState(!1);return e.jsxs(g,{onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[s,e.jsx(l,{name:"chevron",iconWidth:{mobile:"18px",tablet:"18px"},stroke:r?"#E6533C":"#EFEDE8"}),e.jsx(E,{visible:r,children:o.map((n,t)=>e.jsx(v,{children:n},t))})]})},T=s=>s.products.products,q=s=>s.products.isLoading,z=()=>{const s=w(),o=x(T),r=x(q),a=c.useRef(null),n=c.useRef(1);return c.useEffect(()=>{s(h(n.current)),n.current=n.current+1},[s]),c.useEffect(()=>{const t=a.current,i=b(()=>{r||!t||t.scrollTop+t.clientHeight>=t.scrollHeight-20&&(s(h(n.current)),n.current=n.current+1)},600);return t==null||t.addEventListener("scroll",i),()=>{t==null||t.removeEventListener("scroll",i)}},[s,n]),e.jsx(I,{children:e.jsx(L,{className:"scrollbar-outer",ref:a,children:o.map((t,i)=>e.jsx(G,{product:t},i))})})},G=({product:s})=>{const[o,r]=c.useState(!1),{groupBloodNotAllowed:a}=s,{user:n}=f(),t=n.settings.blood,i=t?a[t]:void 0;return e.jsxs(S,{children:[e.jsxs(R,{children:[e.jsx(D,{children:"DIET"}),e.jsxs(y,{children:[e.jsx(N,{recommended:i||!1}),i?"Recommended":"Not recommended"]}),e.jsxs(F,{type:"text",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:["Add",e.jsx(l,{name:"arrow-secondary",iconWidth:{mobile:"16px",tablet:"16px"},stroke:o?"#efede8":"#e6533c"})]})]}),e.jsxs(H,{children:[e.jsxs(B,{children:[e.jsx(W,{children:e.jsx(l,{name:"running",iconWidth:{mobile:"16px",tablet:"16px"},fill:"#EFEDE8",stroke:"#EFEDE8"})}),e.jsx(C,{children:s.title})]}),e.jsxs(P,{children:[e.jsxs(d,{children:[e.jsx(u,{children:"Calories:"}),e.jsx(p,{children:s.calories})]}),e.jsxs(d,{children:[e.jsx(u,{children:"Category:"}),e.jsx(p,{children:s.category})]}),e.jsxs(d,{children:[e.jsx(u,{children:"Weight:"}),e.jsx(p,{children:s.weight})]})]})]})]})},V=()=>{const[s,o]=c.useState(!1),[r,a]=c.useState(!1);return e.jsx(m,{children:e.jsxs("div",{className:"filters wrapper",style:{gap:"20px"},children:[e.jsxs(M,{onFocus:()=>a(!0),onBlur:()=>a(!1),onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),style:{marginBottom:40},children:[e.jsx(A,{placeholder:"Search",bordercolor:"default"}),e.jsx(O,{children:e.jsx(l,{name:"search",iconWidth:{mobile:"18px",tablet:"18px"},iconHeight:{mobile:"18px",tablet:"18px"},stroke:s||r?"#E6533C":"#EFEDE8"})})]}),e.jsxs("div",{className:"dropdowns wrapper",style:{display:"flex",gap:"16px"},children:[e.jsx(j,{items:["Option 1","Option 2","Option 3"],children:e.jsx("p",{children:"Categories"})}),e.jsx(j,{items:["Option 1","Option 2","Option 3"],children:e.jsx("p",{children:"All"})})]})]})})},U=()=>{const{isLoggedIn:s,isRefreshing:o}=f(),r=k();return c.useEffect(()=>{!s&&!o&&r("/")},[s,o,r]),e.jsxs(m,{children:[e.jsx(V,{}),e.jsx(z,{})]})};export{U as default};
