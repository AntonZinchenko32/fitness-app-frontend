import{d as h,e as t,f as u,u as m,j as r,l as g,r as x,c as f}from"./index-2dlK1RkK.js";import{u as w}from"./useAuth-nU1E_u3i.js";import{u as j}from"./formik.esm-ntzJLuK7.js";import{i as S}from"./imgForWelcomePage-t-lFdlDu.js";import{C as I,B as v,T as y,F as k,W as l,a as C,I as b}from"./SignUp.styled-a52pIrlu.js";import{I as d}from"./InputPrimary-ikECIp2z.js";const U=h().shape({email:t().email().matches(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,"Invalid email format").required(),password:t().min(6,"password is too short - should be 6 characters minimum.").required("Required")}),F=()=>{const s=u(),a=m(),e=j({initialValues:{email:"",password:""},validationSchema:U,onSubmit:async(c,{resetForm:p})=>{var o,i;try{if((i=(o=(await s(g(c))).payload)==null?void 0:o.data)==null?void 0:i.token)return a("/profile");p()}catch(n){console.error("Вхід не вдається",n)}}});return r.jsxs(I,{children:[r.jsxs(v,{children:[r.jsx(y,{children:"Sign In"}),r.jsxs(k,{onSubmit:e.handleSubmit,children:[r.jsx(l,{children:r.jsx(d,{bordercolor:e.errors.email&&e.touched.email?"error":"default",id:"email",name:"email",type:"text",placeholder:"Email",onChange:e.handleChange,value:e.values.email})}),e.errors.email&&e.touched.email&&r.jsx("div",{children:e.errors.email}),r.jsx(l,{children:r.jsx(d,{bordercolor:e.errors.password&&e.touched.password?"error":"default",id:"password",name:"password",type:"password",placeholder:"Password",onChange:e.handleChange,value:e.values.password})}),e.errors.password&&e.touched.password&&r.jsx("div",{children:e.errors.password}),r.jsx(C,{htmlType:"submit",type:"primary",children:"Sign In"})]})]}),r.jsx(b,{src:S,alt:"The girl shows an example of a forward leg kick"})]})},W=()=>{const{isLoggedIn:s,isRefreshing:a}=w(),e=m();return x.useEffect(()=>{s&&!a&&e("/diary")},[s,a,e]),r.jsx(f,{children:r.jsx(F,{})})};export{W as default};
